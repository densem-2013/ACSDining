@{
    ViewBag.Title = "Orders";
}
        <div class="panel panel-default" id="mfwPanel">

            <table class="table table-striped table-bordered fixed  table-hover" id="ordesTable">
               
                <thead>
                <tr>
                    <th rowspan="4"><span>№</span></th>
                    <th rowspan="4" style="text-align: center"><span>Ф.И.О</span></th>
                    <!--ko foreach: DaysOfWeek-->
                    <th colspan="4" style="text-align: center"><span data-bind="text:$data"></span></th>
                    <!--/ko-->
                    <th rowspan="4" style="text-align: center"><span>Стоимость заказа за неделю</span></th>
                </tr>
                <tr data-bind="foreach: DaysOfWeek" id="groups">
                    <!--ko foreach: $root.Categories-->
                    <th class="rotate">
                        <span class="intact" data-bind="text: $data"></span>
                    </th>
                    <!--/ko-->
                </tr>
                <tr><th style="text-align: center" data-bind="attr:{colspan: WeekDishPrices().length}"><span>Цена за одну порцию, грн</span></th></tr><tr>
                    <!--ko foreach: WeekDishPrices-->
                    <th><span data-bind="text: $data.toFixed(2)"></span></th>
                    <!--/ko-->
                </tr>
                </thead>
                <tbody>
                <!--ko foreach: WeekUserOrderModels-->
                <tr>
                    <td>
                        <span data-bind="text: $root.pageIndex() * $root.pageSize() + $index() + 1"></span>
                    </td>
                    <td class="rights"><span data-bind="text: UserName"></span></td>
                    <!--ko foreach: UserDayOrders-->
                    <!--ko foreach: DishQuantities-->
                    <td class="orderquant" data-bind="singleClick: function(){$data.clicked($element, $parent.OrderCanBeChanged())}, event : { mouseenter: function(){ $data.onmouseenter($parent.OrderCanBeChanged());} , mouseleave:function(){$data.onFocusOut($parent.OrderCanBeChanged()); if($data.beenChanged()){$root.BeenChanged(true); $root.update($parents[1],$parentContext.$index(),$index()); } }}">
                        <!--ko ifnot: $data.isEditMode()-->
                        <span data-bind="text: Quantity"></span>
                        <!--/ko-->
                        <!-- ko if: $data.isEditMode() -->
                        <!-- ko if: ($index() % 4 === 0) -->
                        <select class="input-small" data-bind="options: $root.FirstCourseValues, value: Quantity"></select>
                        <!--/ko-->
                        <!-- ko ifnot: ($index() % 4 === 0) -->
                        <select class="input-small" data-bind="options: $root.QuantValues, value: Quantity"></select>
                        <!--/ko-->
                        <!--/ko-->
                    </td>
                    <!--/ko-->
                    <!--/ko-->
                    <th style="text-align: center"><span data-bind="text: WeekSummaryPrice"></span></th>
                </tr>
                <!--/ko-->
                <tr>
                    <th style="text-align: center" colspan="2">Всего заказано</th>
                    <!--ko foreach: SummaryDishQuantities-->
                    <th><span data-bind="text: $data"></span></th>
                    <!--/ko-->
                </tr>
                    <tr>
                        <td colspan="3">
                            <button type="button" class="btn btn-default btn-circle" data-bind="click: previousPage, css:{disabled: pageIndex() === 0}">
                                <span class="glyphicon glyphicon-hand-left"> Предыдущая</span>
                            </button>
                        </td>
                        <td data-bind="attr:{colspan:(DaysOfWeek().length*$root.Categories().length-15)}">
                            <div>
                                <span class="glyphicon " >Страница </span>
                                <span class="label-info " data-bind=" text: pageIndex()+1"></span>
                                <span> из </span>
                                <span class="label-info " data-bind=" text: maxPageIndex()+1"></span>
                                @*<div style="text-align: center">
                                    <ul class="pagination pagination-lg">
                                        <li data-bind=" foreach: allPages">
                                            <button type="button" class="btn btn-default btn-circle" data-bind=" click: function() { $parent.moveToPage($data.pageNumber-1)  }, css: { active: $data.pageNumber === ($parent.pageIndex() + 1) }">
                                                <span class="glyphicon" data-bind="text: $data.pageNumber"></span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>*@
                            </div>
                        </td>
                        <td colspan="3">
                            <button type="button" class="btn btn-default btn-circle" data-bind="click: nextPage, css:{disabled: pageIndex() === maxPageIndex()}" style="float: left">
                                <span class="glyphicon glyphicon-hand-right"> Следующая</span>
                            </button>
                        </td>
                        <td colspan="6">
                            <div>
                                <span> Отображать </span>
                                <select class="input-sm" data-bind="options: $root.PageSizes, value: pageSize"></select>
                                <span> элементов на странице</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
            @Scripts.Render("~/bundles/WeekOrders")
           
